<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <title>Form Ä‘iá»ƒm danh</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 20px; }
    label { display: block; margin-top: 10px; }
    select, button { padding: 8px; margin-top: 5px; width: 250px; }
    table { margin-top: 20px; border-collapse: collapse; width: 100%; }
    th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
    .actions { margin-top: 15px; }
  </style>
</head>
<body>

  <h2>Form Ä‘iá»ƒm danh há»c sinh</h2>

  <label for="classSelect">Chá»n lá»›p:</label>
  <select id="classSelect">
    <option value="">-- Chá»n lá»›p --</option>
  </select>

  <label for="studentSelect">Chá»n há»c sinh:</label>
  <select id="studentSelect">
    <option value="">-- Chá»n há»c sinh --</option>
  </select>

  <button onclick="markAttendance()">âœ… XÃ¡c nháº­n Ä‘iá»ƒm danh</button>

  <div class="actions">
    <button onclick="clearAttendance()">ğŸ—‘ XÃ³a danh sÃ¡ch Ä‘iá»ƒm danh</button>
    <button onclick="exportToCSV()">ğŸ“¤ Xuáº¥t danh sÃ¡ch CSV</button>
  </div>

  <h3>Danh sÃ¡ch Ä‘Ã£ Ä‘iá»ƒm danh:</h3>
  <table id="attendanceTable">
    <thead>
      <tr><th>Lá»›p</th><th>Há» tÃªn</th><th>Thá»i gian</th></tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    const studentsData = {
      "12A1": ["NGUYá»„N TRÆ¯á»œNG AN", "Há»’ THANH TÃ€I ANH", "TRá»ŠNH PHáº M GIA Báº¢O", "NGUYá»„N LÃŠ CÃ”NG", "NGUYá»„N THá»Š THÃ™Y DUNG", "NGUYá»„N VÄ‚N DÅ¨NG", "PHáº M HÃ™NG DÅ¨NG", "Láº I TUáº¤N Háº¢I", "NGUYá»„N TRUNG HIáº¾U", "NGÃ” VÄ‚N CHÃ‚U HÆ¯á»šNG", "LÆ¯Æ NG HOÃ€NG ÄÄ‚NG KHÃ”I", "CÃ€ TRÃ KIÃŠN", "NGUYá»„N TRUNG KIÃŠN", "NGUYá»„N TRÆ¯Æ NG NHI LINH", "TRáº¦N MAI LINH", "Äá»– NGá»ŒC Má»¸", "NGUYá»„N THá»Š KIM NGÃ‚N", "NGUYá»„N THá»Š THÃšY NGÃ‚N", "LÃŠ MINH CHÃ NGUYÃŠN", "QUANG TÃ” NHáº¬T NGUYÃŠN", "TRáº¦N MINH PHI", "NGÃ” CHÃ PHONG", "LÃŠ ANH PHÆ¯á»šC", "NGUYá»„N ÄÄ‚NG QUANG", "Äáº¶NG NHÆ¯ QUá»²NH", "NGUYá»„N Cáº¢NH SÃNG", "H' SINH - HÄÆ K", "NGUYá»„N HOÃ€NG SÆ N", "TRáº¦N VÄ‚N TIáº¾N", "VÃ• NGá»ŒC TIáº¾N", "NGUYá»„N Äá»– Báº¢O TRÃ‚M", "PHAN THANH Báº¢O TRUNG", "DÆ¯Æ NG QUá»C VIá»†T", "NGUYá»„N ANH VÅ¨", "PHAN THANH THáº¢O VY", "HOÃ€NG THá»Š VÃ‚N ANH", "NGUYá»„N ÄÃ€O Há»’NG Háº NH", "Äáº·ng TÃ´ Khoa"],
      "12A2": ["DÆ¯Æ NG QUá»²NH ANH", "LÃŠ QUá»C CÆ¯á»œNG", "LÃŠ ANH DUY", "NGUYá»„N TIáº¾N DÆ¯Æ NG", "NGUYá»„N BÃ Äáº I", "NGUYá»„N Táº¤N Äáº T", "NGUYá»„N-SÆ N-HÃ‚N", "TRáº¦N VÄ‚N HIáº¾U", "PHAN Äá»¨C HOÃ€NG", "NGUYá»„N THá»Š KIM HUá»†", "LÆ¯U QUANG HUY", "HUá»²NH TRáº¦N ÄÄ‚NG KHOA", "LÆ¯U TUáº¤N KIá»†T", "NGUYá»„N Táº¤N LÃ‚M", "CHÃ‚U THá»Š THÃ™Y LINH", "LÃŠ THá»Š NA", "NGUYá»„N Äáº®C NAM", "NGUYá»„N HOÃ€NG NAM", "NGUYá»„N THá»Š KIM NGÃ‚N", "ÄINH MINH NHÆ¯ NGá»ŒC", "LÆ¯U BÃ™I QUANG NGUYÃŠN", "NGUYá»„N THá»Š TRÆ¯á»œNG NGUYÃŠN", "NGUYá»„N THá»Š Má»¸ NHÆ¯", "LÃŠ Táº¤N PHÃT", "NGUYá»„N MINH QUÃ‚N", "LÃŠ Táº¤N SANG", "ÄOÃ€N THá»Š PHÆ¯Æ NG THANH", "LÃŠ NGá»ŒC KHÃNH THáº¢O", "NGUYá»„N VÄ‚N THáº¢O", "TÃ”N Ná»® THU THáº¢O", "HOÃ€NG NGUYá»„N ANH THÆ¯", "NGUYá»„N ANH THÆ¯", "TRá»ŠNH NGá»ŒC DIá»†U THÆ¯Æ NG", "TRáº¦N THá»Š UYÃŠN TRANG", "TRáº¦N THá»Š THANH TRÃ‚M", "LÃ’ TRÃ‚N TRÃ‚N", "LÃŠ THá»Š TÃš TRINH", "NGUYá»„N THá»Š KIá»€U TRINH", "BÃ™I MINH TUáº¤N", "HOÃ€NG THANH TÃš", "TRáº¦N QUá»C VIá»†T", "NGUYá»„N THANH XUÃ‚N", "NGUYá»„N VÃ• Cáº¦N"],
      "12A3": ["NGUYá»„N NGUYá»„N THÃI Báº¢O", "LÃŠ THá»Š DIá»„M CHINH", "CHU NGUYá»„N HOÃ€NG Háº¢I", "LÃŠ MINH Háº¢I", "NGUYá»„N TRáº¦N NGá»ŒC HÃ‚N", "H' LÃŠ NA BYÄ‚", "NGUYá»„N THá»Š PHÆ¯Æ NG LINH", "NGUYá»„N KHÃNH LY", "NGUYá»„N QUá»²NH MAI", "NGUYá»„N HUá»²NH HOÃ€I NAM", "NGUYá»„N THá»Š THÃšY NGA", "NGUYá»„N THá»Š THIÃŠN NGÃ‚N", "TRáº¦N NGUYá»„N THáº¢O NGUYÃŠN", "ÄOÃ€N THá»Š Yáº¾N NHI", "NGUYá»„N THá»Š QUá»²NH NHÆ¯", "PHAN THá»Š TÃš NI", "H NIVIA BYÄ‚", "NGUYá»„N Báº¢O QUá»C", "NGUYá»„N VÄ‚N QUÃ", "PHáº M VIáº¾T THANH SÆ N", "Y THA NI - BYÄ‚", "NGUYá»„N THá»Š THANH THá»¦Y", "VÅ¨ THá»Š ANH THÆ¯", "H' TRA-MI KBUÃ”R", "VÅ¨ THá»Š Báº¢O TRÃ‚M", "TRáº¦N VÄ‚N TÃ™NG", "NGUYá»„N LÃ‚M Báº¢O Yáº¾N", "NGUYá»„N NGá»ŒC BÃCH", "TRá»ŠNH KHÃNH HUYá»€N", "LÃŠ THá»Š TUYáº¾T NHUNG", "LÃŠ NGUYá»„N BÃCH PHÆ¯á»¢NG"],
	  "12A4": ["Há»’ HÃ€ QUá»²NH ANH", "NGUYá»„N CHIáº¾N CÃ”NG", "TRáº¦N DUY CÃ”NG", "NGUYá»„N THá»Š Há»’NG CÃšC", "HOÃ€NG MINH DÆ¯Æ NG", "Tá»ª THá»Š ANH ÄÃ€O", "VÃ• VÄ‚N Äáº T", "PHAN THá»Š DIá»†U Háº°NG", "LÃŠ VIáº¾T HIáº¾U", "NGUYá»„N Äá»– HOÃ€NG HUY", "NGUYá»„N NGá»ŒC HUY", "NGUYá»„N THá»Š THU HUYá»€N", "NÃ”NG Máº NH HÃ™NG", "HÃ€ THá»Š Má»¸ LAN", "TRáº¦N THá»Š Má»¸ LINH", "NGUYá»„N THá»Š THáº¢O MAI", "NGUYá»„N NGá»ŒC LY NA", "NA GIN NIÃŠ", "PHáº M XUÃ‚N NGUYÃŠN", "HOÃ€NG THá»Š TÃš OANH", "PHAN THá»Š OANH", "VÅ¨ THá»Š THU PHÆ¯á»¢NG", "ÄOÃ€N HOÃ€NG QUYÃŠN", "VÅ¨ NHÆ¯ QUá»²NH", "H SI NA - BYÄ‚", "NGUYá»„N ÄÆ¯á»œNG ÄAN THANH", "NINH THá»Š THU THáº¢O", "NGUYá»„N THá»Š PHÆ¯Æ NG THI", "TRáº¦N NGUYá»„N ANH THÃ™Y", "NGUYá»„N ANH THÆ¯", "NGUYá»„N NGá»ŒC ANH THÆ¯", "HOÃ€NG MINH TIáº¾N", "NGUYá»„N THá»Š PHÆ¯Æ NG TRINH", "TRá»ŠNH Äá»¨C TRÆ¯á»œNG", "LÃŠ QUá»C TUáº¤N", "NGÃ” THANH VÃ‚N", "H' VEL BYÄ‚", "Há»¨A HÃ€ VI", "LÃ’ HUY VÅ¨", "PHáº M KHÃNH LINH"],// RÃºt gá»n danh sÃ¡ch máº«u Ä‘á»ƒ demo
	  "12A5": ["PHAN NGUYá»„N HÃ€ AN", "NGUYá»„N TRUNG HOÃ€NG ANH", "LÆ¯U GIA Báº¢O", "H-DIá»†U BKRÃ”NG", "NGUYá»„N DANH Äáº T", "NGUYá»„N LAM ÄIá»€N", "PHáº M VÄ‚N Äá»’NG", "NGUYá»„N NGá»ŒC HÃ€", "NGUYá»„N VIá»†T HÃ€", "PHáº M Má»¸ Háº NH", "Háº°NG H' WING", "Äáº¶NG THá»Š THANH Háº°NG", "NGUYá»„N THá»Š Há»’NG HIá»‚N", "PHáº M THá»Š NGá»ŒC HOA", "LÃŠ ÄÃŒNH HOÃ€NG", "Äáº¬U QUá»C Máº NH", "NGUYá»„N HÃ€ MY", "BÃ™I THá»Š Yáº¾N NGá»ŒC", "NGUYá»„N THá»Š Yáº¾N NGá»ŒC", "NGUYá»„N-VÄ‚N-NHáº¬T", "Táº  Báº¢O NHI", "PHáº M VÄ‚N NINH", "HUá»²NH Há»’ GIA PHÃT", "Táº  LÃŠ THá»¤C QUYÃŠN", "H RIAN BYÄ‚", "H RINA HÄÆ K", "NGUYá»„N TRÆ¯á»œNG SINH", "CHÃ‚U NGá»ŒC SÆ N", "Há»’ HÃ€ Sá»¸ SÆ N", "TRáº¦N THá»Š Má»¸ TÃ‚M", "H' TÃŠN BYÄ‚", "TRáº¦N THá»Š HÆ¯Æ NG THáº¢O", "THIá»†U KIá»€U THI", "NGUYá»„N MAI TRANG", "HOÃ€NG LÃŠ Má»¸ TRINH", "NGUYá»„N TRUNG TUáº¤N", "NGUYá»„N VÄ‚N TÃ™NG", "NGUYá»„N HOÃ€NG VÅ¨", "BÃ™I THá»Š Cáº¨M VY"],
	  "12A6": ["NGUYá»„N NHÆ¯ QUá»²NH ANH", "PHAN NGUYá»„N NHÆ¯ ANH", "NGUYá»„N THá»Š ÃNH", "MAI THANH DIá»„M", "Há»’ HÃ€ HOÃ€NG DUYÃŠN", "HUá»²NH Äá»¨C", "LÃŠ THANH GIAO", "NGUYá»„N MAI HUá»†", "NGUYá»„N HOÃ€NG HÆ¯NG", "TRáº¦N VÄ‚N Ká»²", "MAI NGá»ŒC THANH LAN", "HUá»²NH THá»Š PHÆ¯á»šC LÃ€NH", "H LÄ¨ BUÃ”N YÄ‚", "MAI QUANG LONG", "LÆ¯Æ NG QUANG LÆ¯U", "TRá»ŠNH Cáº¨M LY", "NGUYá»„N TRÆ¯Æ NG TIá»‚U MI", "H' NGUÃ”L NIÃŠ", "TRáº¦N MINH NGUYÃŠN", "HOÃ€NG THá»Š THANH NHÃ€N", "NGUYá»„N THá»Š NHUNG", "H' NIA ÃŠBAN", "THIá»†U VÄ‚N PHONG", "Äáº¶NG NHÆ¯ CÃ”NG PHÃšC", "Äá»– DÆ¯Æ NG NHÆ¯ QUá»²NH", "ÄÃ€O THá»Š DIá»„M QUá»²NH", "Äáº¶NG XUÃ‚N QUÃ", "NGUYá»„N PHAN Há»’NG TÃ‚M", "LÃŠ VÄ‚N THáº®NG", "MAI THá»Š THU THÃšY", "HOÃ€NG MINH TRIáº¾T", "Äá»– THá»Š TUYáº¾T TRINH", "Há»’ HOÃ€NG TUáº¤N", "BÃ™I THá»Š THANH TUYá»€N", "LÆ¯Æ NG TUYáº¾T NHI", "PHáº M THá»Š ÃNH THÃ™Y", "NGUYá»„N HOÃ€NG THáº¢O UYÃŠN", "TRáº¦N THá»Š THáº¢O UYÃŠN"],
	  "12A7": ["HOÃ€NG THá»Š TÃš ANH", "NGUYá»„N NGá»ŒC NHÆ¯ ANH", "NGUYá»„N TUáº¤N ANH", "TRáº¦N TUáº¤N ANH", "NGUYá»„N GIA Báº¢O", "NGUYá»„N GIA Báº®C", "NGUYá»„N HÃ™NG GIA", "HUá»²NH NGá»ŒC GIA HÃ‚N", "H LIZA BYÄ‚", "Há»’ THá»Š KIá»€U LOAN", "LÃ THá»Š THÃ™Y MAI", "H MIÃŠN BYÄ‚", "TRáº¦N THá»Š QUá»²NH NHÆ¯", "H NIÃŠM H ÄÆ K", "LÃŠ VÄ‚N PHONG", "LÃŠ VÄ‚N PHÃšC", "TRá»ŠNH HÃ€O QUANG", "ÄÃ€O XUÃ‚N SANG", "PHAN VÄ‚N Sá»¸", "ÄÃ€O XUÃ‚N TÃ€I", "TÃ” NGá»ŒC THANH", "CAO BÃCH PHÆ¯Æ NG THáº¢O", "PHáº M THá»Š NGá»ŒC THÃšY", "Há»’ Sá»¸ TÃNH", "NGUYá»„N THá»Š THU TRANG", "HOÃ€NG ANH TUáº¤N", "VÆ¯Æ NG QUá»C TUáº¤N", "PHAN NGá»ŒC TÃš", "NGUYá»„N THá»Š THáº¢O UYÃŠN", "NGUYá»„N ÄÄ‚NG Há»’NG VÅ¨"],
	  "12A8": ["HÃ€ TRÃ‚M ANH", "LÃŠ THá»Š HÆ¯Æ NG GIANG", "NGUYá»„N THá»Š TRÃšC GIANG", "Y - GUÃ”P NIÃŠ", "TRáº¦N MINH Háº NH", "NGUYá»„N THá»Š GIA HÃ‚N", "NGUYá»„N QUANG GIA HUY", "VÅ¨ MINH HUY", "NGUYá»„N VÅ¨ Báº¢O KHANG", "BÃ™I TRUNG KIÃŠN", "NGUYá»„N LÆ¯Æ NG Báº¢O LÃ‚M", "Y - LOA NIÃŠ", "NGUYá»„N THá»Š ÃNH LY", "NGUYá»„N THá»Š KHÃNH LY", "TRáº¦N THá»Š TRÃ€ MY", "TRáº¦N THá»Š THÃ™Y NA", "NGUYá»„N THá»Š Má»¸ NGÃ‚N", "PHáº M TRáº¦N Báº¢O NGÃ‚N", "NGÃ” ÄOÃ€N HOÃ€NG NHI", "NGUYá»„N THá»Š ÃNH NHÆ¯", "CAO THANH PHÃT", "NGUYá»„N Há»®U PHÃT", "PHáº M HOÃ€NG PHá»", "DÆ¯Æ NG HÃ€ NHáº¬T THANH", "H' THáº¢O KTUL", "NGUYá»„N THá»Š THANH THáº¢O", "NGUYá»„N THá»Š THáº¢O", "NGUYá»„N THá»Š ANH THÆ ", "NGUYá»„N THá»Š HUYá»€N TRÃ‚M", "Äá»— Thá»‹ KhÃ¡nh Ly"],
	  "12A9": ["Äá»– THá»Š PHÆ¯Æ NG ANH", "NGUYá»„N THÃI PHÆ¯Æ NG ANH", "NGUYá»„N HIáº¾U Ã‚N", "NGUYá»„N CÃ”NG DIá»†U", "HÃ€ NGUYá»„N DUY", "TRáº¦N ÄÃŒNH DÆ¯Æ NG", "THáº CH THá»Š Má»¸ ÄÃŒNH", "DÆ¯Æ NG Äáº I Äá»¨C", "LÃŠ THá»Š THU HIá»€N", "NGUYá»„N BÃ Äáº¶NG HOÃ€NG", "NGUYá»„N LÃ‚M HÃ™NG", "Y LA VI - NIÃŠ KDÄ‚M", "Y LUP BYÄ‚", "PHáº M THá»Š MAI", "DÆ¯Æ NG NGá»ŒC TRÃ€ MY", "LÃŠ PHÆ¯Æ NG NGUYÃŠN", "NGUYá»„N THá»Š QUá»²NH NHÆ¯", "MAI VÄ‚N PHI", "ÄINH Háº¢I PHONG", "VÅ¨ DUY NHáº¬T QUÃ‚N", "LÆ¯U DIá»„M QUá»²NH", "H' SIAN ÃŠBAN", "TRáº¦N BÃŒNH NGUYÃŠN SÆ N", "NGUYá»„N PHáº M ANH TÃ€I", "NGUYá»„N THá»Š NGá»ŒC TÃ‚M", "TRáº¦N TÃ‚M", "VÃ• HOÃ€I Báº¢O THI", "NGÃ” HOÃ€NG THIÃŠN", "TRáº¦N THá»Š THANH THUáº¬N", "MAI THá»Š THU THUá»¶", "PHáº M THIÃŠN THÆ¯", "Äá»– THá»Š HUYá»€N TRANG", "THÃ™NG NGá»ŒC ANH TUáº¤N", "NGUYá»„N ÄÃŒNH TÃ™NG", "H Æ¯I ÃŠYA", "Y Rani NiÃª Ktul"],
	};

    const classSelect = document.getElementById("classSelect");
    const studentSelect = document.getElementById("studentSelect");
    const attendanceTable = document.getElementById("attendanceTable").querySelector("tbody");

    Object.keys(studentsData).forEach(cls => {
      const option = document.createElement("option");
      option.value = cls;
      option.textContent = cls;
      classSelect.appendChild(option);
    });

    classSelect.addEventListener("change", () => {
      const selectedClass = classSelect.value;
      studentSelect.innerHTML = '<option value="">-- Chá»n há»c sinh --</option>';
      if (studentsData[selectedClass]) {
        studentsData[selectedClass].forEach(name => {
          const option = document.createElement("option");
          option.value = name;
          option.textContent = name;
          studentSelect.appendChild(option);
        });
      }
    });

    function markAttendance() {
      const cls = classSelect.value;
      const name = studentSelect.value;
      if (cls && name) {
        const existingRows = Array.from(attendanceTable.querySelectorAll("tr"));
        const alreadyMarked = existingRows.some(row =>
          row.cells[0].textContent === cls && row.cells[1].textContent === name
        );
        if (alreadyMarked) {
          alert("Há»c sinh nÃ y Ä‘Ã£ Ä‘Æ°á»£c Ä‘iá»ƒm danh.");
          return;
        }

        const now = new Date().toLocaleString("vi-VN");
        const row = `<tr><td>${cls}</td><td>${name}</td><td>${now}</td></tr>`;
        attendanceTable.innerHTML += row;
        saveToLocalStorage();
      } else {
        alert("Vui lÃ²ng chá»n lá»›p vÃ  há»c sinh.");
      }
    }

    function saveToLocalStorage() {
      localStorage.setItem("attendanceList", attendanceTable.innerHTML);
    }

    function loadFromLocalStorage() {
      const saved = localStorage.getItem("attendanceList");
      if (saved) attendanceTable.innerHTML = saved;
    }

    function clearAttendance() {
      if (confirm("Báº¡n cÃ³ cháº¯c cháº¯n muá»‘n xÃ³a toÃ n bá»™ danh sÃ¡ch Ä‘iá»ƒm danh?")) {
        attendanceTable.innerHTML = "";
        localStorage.removeItem("attendanceList");
      }
    }

    function exportToCSV() {
      let csvContent = "data:text/csv;charset=utf-8,Lá»›p,Há» tÃªn,Thá»i gian\n";
      const rows = attendanceTable.querySelectorAll("tr");
      rows.forEach(row => {
        const cells = row.querySelectorAll("td");
        if (cells.length) {
          const rowData = Array.from(cells).map(cell => `"${cell.textContent}"`).join(",");
          csvContent += rowData + "\n";
        }
      });

      const encodedUri = encodeURI(csvContent);
      const link = document.createElement("a");
      link.setAttribute("href", encodedUri);
      link.setAttribute("download", "diem_danh.csv");
      document.body.appendChild(link);
      link.click();
      document.body.removeChild(link);
    }

    window.onload = loadFromLocalStorage;
  </script>

</body>
</html>
